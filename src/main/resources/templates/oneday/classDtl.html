<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">
<head>
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
</head>

<th:block layout:fragment="css">
	<style type="text/css">
@font-face {
    font-family: 'Pretendard-Regular';
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
    font-weight: 400; 
    font-style: normal;
}	

* {
	font-family: 'Pretendard-Regular', sans-serif;
	
}

td {
	width: 50px;
	height: 50px;
}

.Calendar {
	text-align: center;
	margin: 0 auto;
}

.Calendar>thead>tr:first-child>td {
	font-weight: bold;
}

.Calendar>thead>tr:last-child>td {
	background-color: gray;
	color: white;
}

.pastDay {
	background-color: lightgray;
}

.today {
	background-color: #FFCA64;
	cursor: pointer;
}

.futureDay {
	background-color: #FFFFFF;
	cursor: pointer;
}

.futureDay.choiceDay, .today.choiceDay {
	background-color: #3E85EF;
	color: #fff;
	cursor: pointer;
}

.form_radio_btn {
	width: 47%;
	height: 45px;
	border: 1px solid #EAE7E7;
	border-radius: 10px;
}

.form_radio_btn input[type=radio] {
	display: none;
}

.form_radio_btn label {
	display: block;
	border-radius: 10px;
	margin: 0 auto;
	text-align: center;
	height: -webkit-fill-available;
	line-height: 45px;
}

/* Checked */
.form_radio_btn input[type=radio]:checked+label {
	background: #184DA0;
	color: #fff;
}

/* Hover */
.form_radio_btn label:hover {
	color: #666;
}

/* Disabled */
.form_radio_btn input[type=radio]+label {
	background: #F9FAFC;
	color: #666;
}

/* 날짜선택 */
a[class*="btn"] {text-decoration: none;}
input[class*="btn"], 
button[class*="btn"] {border: 0;}

.rounded {
  border-radius: 10px;
}

.btn.yellow, .btn-two.yellow {
	background-color: #f0d264;
	width: 220px;
}
/* 이미지 슬라이더 */
li{list-style:none;}
.flex{
  display:flex;
}

.flex-jc-c{
  justify-content:center;
}
.con{
  max-width:1200px;
  margin:0 auto;
}

.article-board-box{
  position:relative;
}
.slide_wrapper{
  position:relative;
  width:700px;
  margin:0 auto;
  height:200px;
  overflow:hidden
}

.slides{
  position:absolute;
  left:0;
  top:0;
  transition:left 0.5s ease-out;
}

.slides li:not(:last-child){
  justify-content:flex-start;
  margin-right:30px;
}


.controls{
  text-align:center;
}

.controls span{
  z-index:2;
  position:absolute;
  top:50%;
  transform:translateY(-50%);
}

.controls>.prev{
  right:calc(100% - 40px);
}

.controls>.next{
  left:calc(100% - 40px);
}

.ha{
  width:50px;
}

#time1, #time2, #time3 {
	visibility: hidden;
}

</style>
</th:block>
<div class="section" layout:fragment="content">
	<div class="container">
		<div class="section">
			<div class="container">
				<input type="hidden" id="classId" th:value="${class.id}">
				<div class="row justify-content-between">
					<div class="col-lg-7">
						<div>
							<img th:src="${class.classImgDtoList[0].imgUrl}" alt="Image"
								class="img-fluid"
								style="width: 700px; height: 500px; border-radius: 20px;" />
						</div>
						<div>
							<div style="margin:30px 0; padding-left: 20px;">
								<h3 th:text="${class.classNm}"
									style="font-weight: 400; font-size: 26px;"></h3>
							</div>
							<div class="slide_wrapper ">
							  <ul class="slides flex" style="padding-left: 15px;">
							  	<li th:each="img : ${class.classImgDtoList}" >
									<img th:src="${img.imgUrl}" width="200px;">
									<img th:if="${img.imgUrl == ''}" src="/images/이미지공백.jpg" width="200px;" height="200px;">
								</li>
							  </ul>
							  <p class="controls">
							    <span class="prev"><i class="fas fa-chevron-left"></i></span>
							    <span class="next"><i class="fas fa-chevron-right"></i></span>
							  </p>
							</div>
							<div class="ha"></div>

						</div>
						
						<div class="agent-box" style="padding: 50px;">
							<pre><p th:text="${class.classDetail}" style="font-size: 15px; text-align: center;"></p></pre>
						</div>
					</div>
					<div class="col-lg-4 ">
						<div>

							<div>
								<div class="mb-3">
									<div
										class="form_toggle" style="text-align: center;">
										<div th:each="info, status: ${class.classInfos}">
											<button id="date-btn" th:onclick="show()" class="btn yellow rounded" th:value="${info.date}" th:if="${info.date != ''}" th:text="${info.date}"></button>
												<div>
		 										 	<button id="time1" th:if="${info.time1 != ''}" th:text="${info.time1}"></button> 
		 										 	<button id="time2" th:if="${info.time2 != ''}" th:text="${info.time2}"></button> 
		 										 	<button id="time3" th:if="${info.time3 != ''}" th:text="${info.time3}"></button> 
												</div>

										</div>

									</div>
								</div>
							</div>

						</div>

						<div class="d-block agent-box p-5">
							<div class="img mb-4"></div>
							<div class="text">
								<h3 class="mb-0">Alicia Huston</h3>
								<div class="meta mb-3">Real Estate</div>
								<p>Lorem ipsum dolor sit amet consectetur adipisicing elit.
									Ratione laborum quo quos omnis sed magnam id ducimus saepe</p>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<th:block layout:fragment="script">
	<script>
	var slides = document.querySelector('.slides'),
	  slide = document.querySelectorAll('.slides li'),
	  currentIdx = 0,
	  slideCount = slide.length,
	  slideWidth = 300,
	  slideMargin = 30,
	  prevBtn = document.querySelector('.prev'),
	  nextBtn = document.querySelector('.next');

	slides.style.width =
	  (slideWidth + slideMargin) * slideCount - slideMargin + 'px';

	function moveSlide(num) {
	  slides.style.left = -num * 330 + 'px';
	  currentIdx = num;
	}

	nextBtn.addEventListener('click', function () {
	  if( currentIdx < slideCount - 3){
	    moveSlide(currentIdx + 1);
	  }else{
	    moveSlide(0);
	  }   
	});

	prevBtn.addEventListener('click', function () {
	  if( currentIdx > 0){
	    moveSlide(currentIdx - 1);
	  }else{
	    moveSlide(slideCount - 3);
	  }   
	});
	
	function show() {
		document.getElementById("time1").style.visibility = "visible";
		document.getElementById("time2").style.visibility = "visible";
		document.getElementById("time3").style.visibility = "visible";
	}
	</script>

</th:block>
</html>